/*
JavaScript Document
#Form js utilities: cdynutil.js Form Validator
#Author: sasikumar
#Contact:info@create-dynamic.com
#Code created by http://www.create-dynamic.com
#Code basically designed for Form purpose but not limited.This program is free software; you can redistribute it and/or modify it.This program is distributed in the hope that it will be useful without any warranty.
*/ 

var cdynVal=function(e){var t;return e.httpRequest=function(){var e=null;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}}return e},e.requestHeader=function(){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*"),t.setRequestHeader("X-Requested-With","XMLHttpRequest")},e.AJAXobject=function(a){var r=void 0!==a.method&&""!=a.method?a.method.toLowerCase():"post",n=void 0!==a.send_data&&""!=a.send_data?a.send_data:"",l=void 0!==a.url&&""!=a.url?a.url:"",s="get"==r?l+"&"+n:l,d="post"==r?n:null;return""!=l&&((t=e.httpRequest()).open(r,s,!0),e.requestHeader(),t.send(d),t.onreadystatechange=function(){return 4==this.readyState&&200==this.status?a.async(t.responseText):null},!0)},e.loadCaptcha=function(e){return document.images.cdynformelem_captchaimg.src="/images/icons/2.gif",document.images.cdynformelem_captchaimg.src="cdyn_includes/plugins/captcha/securimage/securimage_show.php?&"+(Math.round(1e3*Math.random(0))+1),e=cdynEvent.getEvent(e),cdynEvent.preventDefault(e),!1},e}((cdynVal=function(e){var t={noElement:" No element found.",empty:"Field should not be empty",required:"This Field is required",alpha:"Use alphabetic only. Allowed character a-z",digits:"Use digits only. Allowed digits 0-9",number:"Please enter a valid number",integer:"Please enter a valid integer",minval:"Value should be greater than or equal to {0}",maxval:"Value should be less than or equal to {0}",alphanumeric:"Use alphabetic and numeric value only",email:"Please enter a valid email",url:"Please enter a valid url",phone:"Please enter a valid phone",time:"Enter valid time.Eg.,11:55,11:55 AM,11:55AM,11:55am,11:55 pm,11:55:25 pm",minchar:"Character should be equal to or more than {0} charaters",maxchar:"Character should be equal to or less than {0} character",minSelections:"Please select {0} choices or more",maxSelections:"Please select {0} choices or less",upload:"Please upload a file",uploadAllowedExt:"Please upload files with allowed extensions: {0}"};function a(e,t,a){var r=null;return""==e&&""==t?r:r="checkbox"==a||"radio"==a||"select"==a?""!=e&&void 0!==document.getElementsByName(e)[0]?document.getElementsByName(e)[0]:""!=t&&void 0!==document.getElementById(t)?document.getElementById(t):null:""!=t&&void 0!==document.getElementById(t)?document.getElementById(t):""!=e&&void 0!==document.getElementsByName(e)[0]?document.getElementsByName(e)[0]:null}function r(t){if(void 0===t||null==t)return!1;var a="";return void 0!==t[2]&&void 0!==t[2].msg&&""!==t[2].msg?e.formErrors.push(t[2].msg):void 0!==t[3]&&""!==t[3]?(""!=t[0]&&(a=t[0]+": "),a+=t[3],e.formErrors.push(a)):(""!=t[0]&&(a=t[0]+": "),void 0!==t[2]&&void 0!==t[2].num?a+=e.formErrorMessages[t[1]].replace("{0}",t[2].num):a+=e.formErrorMessages[t[1]],e.formErrors.push(a)),!0}return e.formElements=[],e.formErrors=[],e.valregex={numeric:/^[0-9]+$/,not_numeric:/[^0-9]+/g,integer_1:/(^\-?\d+$)|(^\-?\d+\.\d+$)/,integer_2:/(^[(\-|\+)]?\d+$)|(^[\-|\+]?\d+\.\d+$)/,alphabetic:/^[a-z]+$/i,not_alphabetic:/[^a-z]/i,alphabetic_s:/^[a-z\s]+$/i,not_alphabetic_s:/[^a-z\s]/i,alphabetic_sd:/^[a-z\s\.]+$/i,not_alphabetic_sd:/[^a-z\s\.]/i,alphanumeric_1:/^[a-z0-9]+$/i,alphanumeric_2:/^[a-z]+(\w+)?$/gi,email_1:/^([0-9A-Za-z_\.-]+)@([0-9A-Za-z_-]+)\.([0-9A-Za-z_\.-]+)$/,email_2:/^([\w\.-]+)@([\w-]+)\.([\w\.-]+)$/,phone_1:/^(\d{3})-(\d{3})-(\d{4})$/,telephone_1:/^0?(\d{9,10})$/,telephone_2:/^0?(\d+)-(\d+)$/,weburl:/^https?:\/\/[\-A-Za-z0-9+&@#\/%?=~_|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_|]/,time_1:/^(\d{1,2}):(\d{2})([ap]m)?$/,time_2:/^(\d{1,2})[:](\d{2})(:\d{2})?(\s+)?([ap]m)?$/i},e.formErrorMessages=t,e.datefn=function(a,r,n){var l,s=null,d={ret:!1,msg:"Input Date"};if(void 0===a||null==a||""==a)return d.ret=!1,d.msg=t.required,d;a=e.trimEnds(a);var o=void 0===r||null==r||""==r?"ddmmyyyy":r,i=void 0===n||null==n||""==n?"/":n,m={ddmmyyyy:{dateset:[2,1,0],execset:[5,3,1],regset:[1,2,1,2,4,4],arr:["DD","MM","YYYY"]},mmddyyyy:{dateset:[2,0,1],execset:[5,1,3],regset:[1,2,1,2,4,4],arr:["MM","DD","YYYY"]},yyyymmdd:{dateset:[0,1,2],execset:[1,3,5],regset:[4,4,1,2,1,2],arr:["YYYY","MM","DD"]}};s=new RegExp("^(\\d{"+m[o].regset[0]+","+m[o].regset[1]+"})(\\"+i+")(\\d{"+m[o].regset[2]+","+m[o].regset[3]+"})(\\"+i+")(\\d{"+m[o].regset[4]+","+m[o].regset[5]+"})$");var u=m[o].arr[0]+i+m[o].arr[1]+i+m[o].arr[2];if(null==(l=s.exec(a)))return d.ret=!1,d.msg="Use correct date format: "+u,d;if(null!=l){var c=m[o].execset[0],v=m[o].execset[1],f=m[o].execset[2],p=parseInt(l[c],10),h=parseInt(l[v],10),g=parseInt(l[f],10),y=new Date(p,h-1,g,0,0,0,0);1==(h===y.getMonth()+1&&g===y.getDate()&&p===y.getFullYear())?(d.ret=!0,d.msg=""):(d.ret=!1,d.msg="use correct date with format: "+o)}return d},e.checkOptionsfn=function(e){var t=null,a=new Object,r=[],n=void 0!==e.name&&null!=e.name?e.name:"",l=void 0!==e.id&&null!=e.id?e.id:"",s=void 0!==e.getval&&1==e.getval,d=void 0!==e.required&&1==e.required,o=void 0!==e.range_arr&&null!=e.range_arr&&e.range_arr;a.status=!1,a.values=null,a.error=[],a.selectedItems=0;var i=void 0!==e.min&&null!=e.min?e.min:0,m=void 0!==e.max&&null!=e.max?e.max:0;if(0!=o){var u=null,c=null;for(var v in o)u=n+"["+o[v]+"]",void 0===(c=document.getElementsByName(u)[0])&&(u=null),null!=u&&1==c.checked&&(1==s&&r.push(c.value),a.selectedItems++)}else{if(""!=n)t=document.getElementsByName(n);else{if(""==l)return a.error.push("No Elements found"),a;t=document.getElementsById(l)}var f=t.length;for(v=0;v<f;v++)1==t[v].checked&&(1==s&&r.push(t[v].value),a.selectedItems++)}return 1==d&&a.selectedItems<1&&a.error.push("Select options"),i>0&&a.selectedItems<i&&a.error.push("Please Select minimum "+i+" Selections"),m>0&&a.selectedItems>m&&a.error.push("Select maximum "+m+" Selections"),a.status=!(a.error.length>0),a.values=r.length>0?r.join(","):null,a},e.cdynFormSelectfn=function(e){var t=null,a=new Object,r=[],n=void 0!==e.name&&null!=e.name?e.name:"",l=void 0!==e.id&&null!=e.id?e.id:"",s=void 0!==e.multiple&&1==e.multiple,d=void 0!==e.getval&&1==e.getval,o=void 0!==e.dummy&&""!=e.dummy?e.dummy:null,i=void 0!==e.required&&1==e.required;if(a.status=!1,a.values=null,a.error=[],a.selectedItems=0,""!=n)t=document.getElementsByName(n)[0];else{if(""==l)return a.error.push("No Elements found"),a;t=document.getElementsById(l)}var m=void 0!==e.min&&null!=e.min?e.min:0,u=void 0!==e.max&&null!=e.max?e.max:0,c=t.length;if(1==s)for(var v=0;v<c;v++)1==t.options[v].selected&&t.options[v].value!=o&&""!=t.options[v].value&&(1==d&&r.push(t.options[v].value),a.selectedItems++);else 1==d&&t.value!=o&&""!=t.value&&(r.push(t.value),a.selectedItems++);return 1==i&&a.selectedItems<1&&a.error.push("Select options"),m>0&&a.selectedItems<m&&a.error.push("Please Select "+m+" Selections"),u>0&&1==s&&a.selectedItems>u&&a.error.push("Select maximum "+u+" Selections"),a.status=!(a.error.length>0),a.values=r.length>0?r.join(","):null,a},e.cdynFileUpload=function(e){var a=null,r=new Object,n=!1,l=null!=e.allowedExts&&1==e.ExtStatus&&e.allowedExts.length>0?e.allowedExts:null,s=void 0!==e.name&&null!=e.name?e.name:"",d=void 0!==e.id&&null!=e.id?e.id:"",o=void 0!==e.required&&1==e.required;r.status=!1,r.error=[],""!=s?a=document.getElementsByName(s)[0]:""!=d&&(a=document.getElementsById(d));var i=a.value.split(".").pop().toLowerCase(),m=a.value.substring(a.value.lastIndexOf(".")+1).toLowerCase();if(1==o&&""==a.value&&r.error.push(t.upload),null!=l&&1==e.ExtStatus&&null!=a.value&&""!=m){for(var u in l)i!=l[u].toLowerCase()&&m!=l[u].toLowerCase()||(n=!0);1!=n&&r.error.push(t.uploadAllowedExt.replace("{0}",l.join(",")))}if(void 0!==e.setReader&&1==e.setReader&&""!=e.loadId&&a.files&&a.files[0]){var c=new FileReader,v=e.loadId;c.onload=function(e){document.getElementById(v).setAttribute("src",e.target.result)},c.readAsDataURL(a.files[0])}return r.status=!(r.error.length>0),r},e.ajax=!1,e.ajaxdata="",e.cdynsend_formdata=[],e.trimEnds=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):e},e.trimExtraSpace=function(e){return"string"==typeof e?e.replace(/\s{2,}/g," "):e},e.init=function(){e.formElements=[],e.formErrors=[]},e.setAjax=function(t){e.ajax=void 0!==t.asynchronous&&null!=t.asynchronous&&1==t.asynchronous,e.ajaxdata=""},e.addElements=function(t){var r=a(void 0!==t.name&&null!=t.name?t.name:"",void 0!==t.id&&null!=t.id?e.trimEnds(t.id):"",void 0!==t.elemtype&&null!=t.elemtype?t.elemtype:"");return t.element_obj=r,e.formElements.push(t),r},e.validate=function(){var t={status:!0,error:[]};if(e.formElements.length<1)return t.status=!1,t;var n,l,s,d,o,i=null,m=0;for(var u in e.formElements)if(n=void 0!==e.formElements[u].name&&null!=e.formElements[u].name?e.formElements[u].name:"",l=void 0!==e.formElements[u].id&&null!=e.formElements[u].id?e.trimEnds(e.formElements[u].id):"",s=void 0!==e.formElements[u].label&&null!=e.formElements[u].label?e.formElements[u].label:"",d=void 0!==e.formElements[u].elemtype&&null!=e.formElements[u].elemtype?e.formElements[u].elemtype:"",o=void 0!==e.formElements[u].validation&&null!=e.formElements[u].validation?e.formElements[u].validation:{},null!=(i=e.formElements[u].element_obj)){if("text"==d&&null!=i){var c=0;if(i.value=e.trimEnds(i.value),void 0===o.required||""!=i.value&&null!=i.value){if(void 0!==o.digits&&1!=e.valregex.numeric.test(i.value))r([s,"digits",o.digits]),c++;else if(void 0!==o.alphabetic&&1!=e.valregex.alphabetic.test(i.value))r([s,"alphabetic",o.alpha]),c++;else if(void 0!==o.alphanumeric&&1!=e.valregex.alphanumeric_1.test(i.value))r([s,"alphanumeric",o.alphanumeric]),c++;else if(void 0!==o.email&&1!=e.valregex.email_2.test(i.value))r([s,"email",o.email]),c++;else if(void 0!==o.phone&&1!=e.valregex.phone_1.test(i.value))r([s,"phone",o.phone]),c++;else if(void 0!==o.time&&1!=e.valregex.time_2.test(i.value))r([s,"time",o.time]),c++;else if(void 0!==o.weburl&&1!=e.valregex.weburl.test(i.value))r([s,"url",o.weburl]),c++;else if(void 0!==o.minlength&&i.value.length<parseInt(o.minlength.num,10))r([s,"minchar",o.minlength]),c++;else if(void 0!==o.maxlength&&i.value.length>parseInt(o.maxlength.num,10))r([s,"maxchar",o.maxlength]),c++;else if(void 0!==o.min&&1==e.valregex.numeric.test(i.value)&&parseInt(i.value,10)<parseInt(o.min.num,10))r([s,"minval",o.min]),c++;else if(void 0!==o.max&&1==e.valregex.numeric.test(i.value)&&parseInt(i.value,10)>parseInt(o.max.num,10))r([s,"maxval",o.max]),c++;else if(void 0!==o.date&&""!=i.value){var v;1!=(v=e.datefn(i.value,o.date.format,o.date.seperator)).ret&&(r([s,"","",v.msg]),c++)}}else r([s,"required",o.required]),c++;0===c&&1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=i.value,e.ajaxdata+="&"+n+"="+i.value,m++)}else if("textarea"==d){var f=i.value=e.trimEnds(i.value),p=0;void 0!==o.required&&(""==f||f.length<1)?(r([s,"empty",o.required]),p++):void 0!==o.minchar&&f.length<parseInt(o.minchar.num,10)?(r([s,"minchar",o.minchar]),p++):void 0!==o.maxchar&&f.length>parseInt(o.maxchar.num,10)&&(r([s,"maxchar",o.maxchar]),p++),0===p&&1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=i.value,e.ajaxdata+="&"+n+"="+i.value,m++)}else if("radio"==d){var h=e.checkOptionsfn({name:n,getval:!0,required:!0}),g=0;void 0!==o.required&&0==h.status?(r([s,"required",o.required]),g++):0===g&&1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=i.value,e.ajaxdata+="&"+n+"="+h.values,m++)}else if("upload"==d){var y={};y.name=n,y.id=l,y.getval=!0;var x=0;void 0!==o.required&&(y.required=!0),void 0!==o.extension&&(y.ExtStatus=!0,y.allowedExts=o.extension.allowedExts);var E=e.cdynFileUpload(y);if(0==E.status&&(r([s,"","",E.error[0]]),x++),0===x&&1==e.ajax){var _=document.getElementById(l).files[0];e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=_,e.ajaxdata+="&"+n+"="+_,m++}}else if("checkbox"==d){(I={}).name=n,I.getval=!0;var q=0;void 0!==o.required&&(I.required=!0),void 0!==o.min&&(I.min=parseInt(o.min.num,10)),void 0!==o.max&&(I.max=parseInt(o.max.num,10));var w=e.checkOptionsfn(I);0==w.status?(r([s,"","",w.error[0]]),q++):0===q&&1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=w.values,e.ajaxdata+="&"+n+"="+w.values,m++)}else if("select"==d){var I;(I={}).name=n,I.getval=!0;void 0!==o.required&&(I.required=!0),void 0!==o.min&&(I.min=parseInt(o.min.num,10)),void 0!==o.max&&(I.max=parseInt(o.max.num,10)),void 0!==e.formElements[u].multiple&&1==e.formElements[u].multiple&&(I.multiple=!0),void 0!==e.formElements[u].dummy&&(I.dummy=e.formElements[u].dummy);var b=e.cdynFormSelectfn(I);0==b.status&&(r([s,"","",b.error[0]]),0),b.error,0===b.error.length&&1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=n,e.cdynsend_formdata[m].v=b.values,e.ajaxdata+="&"+n+"="+b.values,m++)}else if("address"==d){var j=void 0!==e.formElements[u].common_name&&null!=e.formElements[u].common_name?e.formElements[u].common_name:"",A="",S=new Array,M={address1:"Street Address",address2:"Address2",city:"City",state:"State",zip:"Zip",country:"Country"},$={address1:"Street Address is required",address2:"Address2 is required",city:"City is required",state:"State is required",zip:"Zip is required",country:"Country is required"};for(var B in M){var z=j+"_"+B,k=j+"["+B+"]";S[B]=new Object,S[B]=a(k,z,d),null!=S[B]?null==S[B]||void 0===o.required||""!=S[B].value&&null!=S[B].value?1==e.ajax&&(e.cdynsend_formdata[m]=[],e.cdynsend_formdata[m].k=k,e.cdynsend_formdata[m].v=S[B].value,A+="&"+k+"="+S[B].value,m++):(r([s,"required","",$[B]]),0):r([M[B],"","","Element not found.Error in configuration."])}e.ajaxdata+=A}}else r([s,"","","Element not found.Error in configuration."]);return e.formErrors.length>0?(t.status=!1,t.error=e.formErrors):t.status=!0,t},e.valerrors=function(t){var a={status:!0,error:[]};return e.formErrors.length>0?(a.status=!1,a.error=e.formErrors):a.status=!0,a},e}(cdynVal||{}))||{});